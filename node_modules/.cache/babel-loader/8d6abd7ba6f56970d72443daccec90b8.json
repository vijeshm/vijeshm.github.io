{"ast":null,"code":"import _toConsumableArray from\"/Users/vmohan/vijeshm.github.io/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/Users/vmohan/vijeshm.github.io/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useRef,useEffect}from\"react\";import TodoList from\"./TodoList\";import{v4}from\"uuid\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var LOCAL_STORAGE_KEY=\"todoApp.todos\";function App(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),todos=_useState2[0],setTodos=_useState2[1];var todoNameRef=useRef();useEffect(function(){var storedTodos=JSON.parse(localStorage.getItem(LOCAL_STORAGE_KEY));if(storedTodos)setTodos(storedTodos);},[]);useEffect(function(){localStorage.setItem(LOCAL_STORAGE_KEY,JSON.stringify(todos));},[todos]);function handleAddTodo(e){var name=todoNameRef.current.value;if(name===\"\")return;console.log(name);setTodos(function(prevTodos){return[].concat(_toConsumableArray(prevTodos),[{id:v4(),name:name,complete:false}]);});todoNameRef.current.value=null;}function toggleTodo(id){var newTodos=_toConsumableArray(todos);var todo=newTodos.find(function(todo){return todo.id===id;});todo.complete=!todo.complete;setTodos(newTodos);}function handleClearTodos(){setTodos(todos.filter(function(todo){return!todo.complete;}));}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(TodoList,{todos:todos,toggleTodo:toggleTodo}),/*#__PURE__*/_jsx(\"input\",{ref:todoNameRef,type:\"text\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleAddTodo,children:\"Add todo\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleClearTodos,children:\"Clear completed Todos\"}),/*#__PURE__*/_jsxs(\"div\",{children:[todos.filter(function(todo){return!todo.complete;}).length,\" left to do\"]})]});}export default App;","map":{"version":3,"names":["useState","useRef","useEffect","TodoList","v4","LOCAL_STORAGE_KEY","App","todos","setTodos","todoNameRef","storedTodos","JSON","parse","localStorage","getItem","setItem","stringify","handleAddTodo","e","name","current","value","console","log","prevTodos","id","complete","toggleTodo","newTodos","todo","find","handleClearTodos","filter","length"],"sources":["/Users/vmohan/vijeshm.github.io/src/App.js"],"sourcesContent":["import { useState, useRef, useEffect } from \"react\";\nimport TodoList from \"./TodoList\";\nimport { v4 } from \"uuid\";\n\nconst LOCAL_STORAGE_KEY = \"todoApp.todos\";\n\nfunction App() {\n  const [todos, setTodos] = useState([]);\n  const todoNameRef = useRef();\n\n  useEffect(() => {\n    const storedTodos = JSON.parse(localStorage.getItem(LOCAL_STORAGE_KEY));\n    if (storedTodos) setTodos(storedTodos);\n  }, []);\n\n  useEffect(() => {\n    localStorage.setItem(LOCAL_STORAGE_KEY, JSON.stringify(todos));\n  }, [todos]);\n\n  function handleAddTodo(e) {\n    const name = todoNameRef.current.value;\n    if (name === \"\") return;\n    console.log(name);\n    setTodos((prevTodos) => {\n      return [\n        ...prevTodos,\n        {\n          id: v4(),\n          name,\n          complete: false,\n        },\n      ];\n    });\n    todoNameRef.current.value = null;\n  }\n\n  function toggleTodo(id) {\n    const newTodos = [...todos];\n    const todo = newTodos.find(todo => todo.id === id);\n    todo.complete = !todo.complete;\n    setTodos(newTodos);\n  }\n\n  function handleClearTodos() {\n    setTodos(todos.filter(todo => !todo.complete));\n  }\n\n  return (\n    <div>\n      <TodoList todos={todos} toggleTodo={toggleTodo}/>\n      <input ref={todoNameRef} type=\"text\"></input>\n      <button onClick={handleAddTodo}>Add todo</button>\n      <button onClick={handleClearTodos}>Clear completed Todos</button>\n      <div>{todos.filter(todo => !todo.complete).length} left to do</div>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"kPAAA,OAASA,QAAT,CAAmBC,MAAnB,CAA2BC,SAA3B,KAA4C,OAA5C,CACA,MAAOC,CAAAA,QAAP,KAAqB,YAArB,CACA,OAASC,EAAT,KAAmB,MAAnB,C,wFAEA,GAAMC,CAAAA,iBAAiB,CAAG,eAA1B,CAEA,QAASC,CAAAA,GAAT,EAAe,CACb,cAA0BN,QAAQ,CAAC,EAAD,CAAlC,wCAAOO,KAAP,eAAcC,QAAd,eACA,GAAMC,CAAAA,WAAW,CAAGR,MAAM,EAA1B,CAEAC,SAAS,CAAC,UAAM,CACd,GAAMQ,CAAAA,WAAW,CAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqBT,iBAArB,CAAX,CAApB,CACA,GAAIK,WAAJ,CAAiBF,QAAQ,CAACE,WAAD,CAAR,CAClB,CAHQ,CAGN,EAHM,CAAT,CAKAR,SAAS,CAAC,UAAM,CACdW,YAAY,CAACE,OAAb,CAAqBV,iBAArB,CAAwCM,IAAI,CAACK,SAAL,CAAeT,KAAf,CAAxC,EACD,CAFQ,CAEN,CAACA,KAAD,CAFM,CAAT,CAIA,QAASU,CAAAA,aAAT,CAAuBC,CAAvB,CAA0B,CACxB,GAAMC,CAAAA,IAAI,CAAGV,WAAW,CAACW,OAAZ,CAAoBC,KAAjC,CACA,GAAIF,IAAI,GAAK,EAAb,CAAiB,OACjBG,OAAO,CAACC,GAAR,CAAYJ,IAAZ,EACAX,QAAQ,CAAC,SAACgB,SAAD,CAAe,CACtB,mCACKA,SADL,GAEE,CACEC,EAAE,CAAErB,EAAE,EADR,CAEEe,IAAI,CAAJA,IAFF,CAGEO,QAAQ,CAAE,KAHZ,CAFF,GAQD,CATO,CAAR,CAUAjB,WAAW,CAACW,OAAZ,CAAoBC,KAApB,CAA4B,IAA5B,CACD,CAED,QAASM,CAAAA,UAAT,CAAoBF,EAApB,CAAwB,CACtB,GAAMG,CAAAA,QAAQ,oBAAOrB,KAAP,CAAd,CACA,GAAMsB,CAAAA,IAAI,CAAGD,QAAQ,CAACE,IAAT,CAAc,SAAAD,IAAI,QAAIA,CAAAA,IAAI,CAACJ,EAAL,GAAYA,EAAhB,EAAlB,CAAb,CACAI,IAAI,CAACH,QAAL,CAAgB,CAACG,IAAI,CAACH,QAAtB,CACAlB,QAAQ,CAACoB,QAAD,CAAR,CACD,CAED,QAASG,CAAAA,gBAAT,EAA4B,CAC1BvB,QAAQ,CAACD,KAAK,CAACyB,MAAN,CAAa,SAAAH,IAAI,QAAI,CAACA,IAAI,CAACH,QAAV,EAAjB,CAAD,CAAR,CACD,CAED,mBACE,oCACE,KAAC,QAAD,EAAU,KAAK,CAAEnB,KAAjB,CAAwB,UAAU,CAAEoB,UAApC,EADF,cAEE,cAAO,GAAG,CAAElB,WAAZ,CAAyB,IAAI,CAAC,MAA9B,EAFF,cAGE,eAAQ,OAAO,CAAEQ,aAAjB,sBAHF,cAIE,eAAQ,OAAO,CAAEc,gBAAjB,mCAJF,cAKE,uBAAMxB,KAAK,CAACyB,MAAN,CAAa,SAAAH,IAAI,QAAI,CAACA,IAAI,CAACH,QAAV,EAAjB,EAAqCO,MAA3C,iBALF,GADF,CASD,CAED,cAAe3B,CAAAA,GAAf"},"metadata":{},"sourceType":"module"}