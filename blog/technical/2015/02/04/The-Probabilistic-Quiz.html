<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>The Probabilistic Quiz</title>
  <meta name="description" content="“Hello World!”">

  <link rel="stylesheet" href="/blog/css/main.css">
  <link rel="canonical" href="http://vijesh.me/blog/technical/2015/02/04/The-Probabilistic-Quiz.html">
  <link rel="alternate" type="application/rss+xml" title="Random() Ramblings" href="http://vijesh.me/blog/feed.xml" />
</head>


  <body>

    <header class="site-header">

  <div class="wrapper">

    <a class="site-title" href="/blog/">Random() Ramblings</a>
    <nav class="site-nav">
      <a href="#" class="menu-icon">
        <svg viewBox="0 0 18 15">
          <path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
          <path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
          <path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
        </svg>
      </a>
      <div class="trigger">
        <a class="page-link" href="/">Home</a>
        
          
          <a class="page-link" href="/blog/about/">About</a>
          
        
          
        
          
        
          
        
      </div>
    </nav>

  </div>

</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="post">

  <header class="post-header">
    <h1 class="post-title">The Probabilistic Quiz</h1>
    <p class="post-meta">Feb 4, 2015</p>
  </header>

  <article class="post-content">
    <p>“Hello World!”</p>

<p>Yes, its a tradition, and a good one at that!
Whether you like it or not, randomness rules our lives. The degree of randomness may vary, but the inevitable fact remains. This is a blog post about how I predicted the score I would get on a quiz. Rather, the score that I was <em>supposed</em> to get if I chose the answers randomly.</p>

<p>I had taken up a course on <a href="http://coursera.org">Coursera</a>. I must say, I <em>probably</em> learnt quite a bit of probability in the course. It so happened that I was running behind schedule by a large margin for a quiz that was due on a Sunday. I had no clue what the course content was, let alone what the questions meant. And the clock was ticking! Remember? randomness controls us. Then I thought, “Why not apply what I had learnt? Lets see if I can predict the score when I answer questions randomly.”.</p>

<p>Here’s how this particular quiz was structured: There were 9 questions with 4 choices each. You get 3 attempts at the quiz. The questions, nor the choices change after each attempt. The order of the choices might change though.</p>

<p>Lets get predicting!</p>

<p><strong>Attempt 1:</strong><br />
Given a single question, <code>4</code> choices and 1 correct answer, what is the probability that you’ll pick the right choice if you’re asked to choose randomly? Well, thats simple. Its <code>(1/4)</code>.<br />
What if I give you <code>2</code> questions, <code>4</code> choices each and 1 correct answer, what then? <code>(2/4)</code>, isn’t it?<br />
What if I you have <code>3</code>questions? You’ll get <code>3/4</code> questions right. <br />
If you had <code>9</code> questions, you’ll get <code>9/4</code> right. Hold on to that thought!<br /></p>

<p><strong>Attempt 2:</strong><br />
The questions and choices will not change in this attempt, remember? Good. Now that you’ve got <code>9/4</code> answers already right, you can just carry them over to this attempt. In this attempt, you’ll have to answer <code>9 - 9/4 = 9 * (3/4)</code> questions right. For the sake of brevity, lets call this <code>n1</code>. So, <code>n1 = 9 * (3/4)</code>.<br />
In this attempt, lets do something smart. For the <code>n1</code> questions that you got wrong, you know what you had chosen earlier. The same choice cannot be the answer, obviously. Now, your sample space has reduced to <code>3</code>, instead of <code>4</code>. If you choose the answers randomly for these <code>n1</code> questions, how many will you get right? <code>n1 / 3</code>, right!<br />
The remaining questions are <code>n2 = n1 - (n1/3) = n1 * (2/3)</code>.<br />
Lets substitute for <code>n1</code>: <code>n2 = 9 * (3/4) * (2/3)</code>.<br />
Do you <em>see</em> a pattern? Exactly!</p>

<p><strong>Attempt 3:</strong><br />
The same rules apply here: same questions, same choices. For the remaining <code>n2</code> questions, you know the 2 choices that are wrong. Your sample space is further reduced to 2. Following the same process, you’d get <code>n2 / 2</code> questions right.<br /> 
The remining questions are,<br /> <code>n3 = n2 - n2 / 2</code><br /><code>= n2 * (1/2)</code><br /><code>= 9 * (3/4) * (2/3) * (1/2)</code> <br /> <code>= 9/4</code>.</p>

<p>By the end of the third attempt, you would’ve answered <code>9 - (9/4) = 9 * (3/4)</code> questions right. Thats a whopping 75%! Thats great, for someone who doesnt even know what the questions are. In this case, 75% turns out to be <strong>6.75</strong> questions.</p>

<p>I put this theory to the test. And guess, what.. <strong>I got 7 questions right out of 9!</strong><br />
But that cant always be that accurate. There <em>must</em> be a method to the madness. There must be a <em>distribution</em>.
I simulated this “game” of choices in R.<br />
<code>9</code> questions; <code>4</code> choices each; <code>3</code> attempts; <code>1000</code> experiments. In each experiment, I noted down the number of correct answers. Here’s what the distribution of the number of correct answers looks like.<br />
<img src="/img/Rplot.png" alt="Distribution of number of correct answers for a quiz containing 9 questions, 4 options each and 3 dependent attempts for a 1000 trials" title="Distribution of number of correct answers for a quiz containing 9 questions, 4 options each and 3 dependent attempts for a 1000 trials" /><br /></p>

<p>An interactive plot is coming up shortly, hopefully. Bare with me till then. Once its up and running, you can play around with the input parameters and see how the distribution varies.</p>

<p><strong>Generalization:</strong><br />
For a quiz with <code>n</code> questions, <code>c</code> choices and <code>k</code> attempts, the number of remaining right answers is given by:<br />
<code>n * (k / c)</code><br />
Wondering how I got this formula? Drop me an email, lets discuss! :)</p>

<p>As you can see from the plot, the mean of the distribution is centered around our theoritically determined value. I dont know how to theoritically compute the variance of the plot thought. Any thoughts?</p>

<p>Here’s the code that I used to simulate the experiments. I know, its a bit clumsy. I’m sure there are much better ways to simulate this quiz. Do let me know if you know any of them.</p>

<div class="highlight"><pre><code class="language-r" data-lang="r"><span class="c1"># Proceed with caution, clumsy code ahead! But rest assured, it works.</span>
<span class="c1"># You&#39;re more than welcome to tweak this code to play around with the parameters.</span>
<span class="kn">library</span><span class="p">(</span>ggplot2<span class="p">)</span>
num_sim_trials <span class="o">&lt;-</span> <span class="m">1000</span>
num_quiz_trials <span class="o">&lt;-</span> <span class="m">3</span>
num_questions <span class="o">&lt;-</span> <span class="m">9</span>
num_options <span class="o">&lt;-</span> <span class="m">4</span>

num_correct <span class="o">=</span> <span class="kt">c</span><span class="p">()</span>
<span class="kr">for</span><span class="p">(</span>i <span class="kr">in</span> <span class="m">1</span><span class="o">:</span>num_sim_trials<span class="p">)</span> <span class="p">{</span>
        correct_answers <span class="o">&lt;-</span> <span class="kp">sample</span><span class="p">(</span><span class="m">1</span><span class="o">:</span>num_options<span class="p">,</span> num_questions<span class="p">,</span> replace <span class="o">=</span> <span class="bp">T</span><span class="p">)</span>
        available_selections <span class="o">&lt;-</span> <span class="kt">list</span><span class="p">()</span>
        <span class="kr">for</span><span class="p">(</span>q <span class="kr">in</span> <span class="m">1</span><span class="o">:</span>num_questions<span class="p">)</span> <span class="p">{</span>
                available_selections<span class="p">[[</span><span class="kp">q</span><span class="p">]]</span> <span class="o">=</span> <span class="m">1</span><span class="o">:</span>num_options
        <span class="p">}</span>
        
        <span class="kr">for</span><span class="p">(</span>j <span class="kr">in</span> <span class="m">1</span><span class="o">:</span>num_quiz_trials<span class="p">)</span> <span class="p">{</span>
                chosen_answers <span class="o">=</span> <span class="kt">c</span><span class="p">()</span>
                <span class="kr">for</span><span class="p">(</span>q <span class="kr">in</span> <span class="m">1</span><span class="o">:</span>num_questions<span class="p">)</span> <span class="p">{</span>
                        <span class="kr">if</span> <span class="p">(</span><span class="kp">length</span><span class="p">(</span>available_selections<span class="p">[[</span><span class="kp">q</span><span class="p">]])</span> <span class="o">&gt;</span> <span class="m">1</span><span class="p">)</span> <span class="p">{</span>
                                chosen_answer <span class="o">=</span> <span class="kp">sample</span><span class="p">(</span>available_selections<span class="p">[[</span><span class="kp">q</span><span class="p">]],</span> <span class="m">1</span><span class="p">)</span>
                        <span class="p">}</span> <span class="kr">else</span> <span class="p">{</span>
                                chosen_answer <span class="o">=</span> available_selections<span class="p">[[</span><span class="kp">q</span><span class="p">]]</span>
                        <span class="p">}</span>
                        
                        <span class="kr">if</span><span class="p">(</span>chosen_answer <span class="o">==</span> correct_answers<span class="p">[</span><span class="kp">q</span><span class="p">])</span> <span class="p">{</span>
                                available_selections<span class="p">[[</span><span class="kp">q</span><span class="p">]]</span> <span class="o">=</span> <span class="kt">c</span><span class="p">(</span>chosen_answer<span class="p">)</span>
                        <span class="p">}</span> <span class="kr">else</span> <span class="p">{</span>
                                available_selections<span class="p">[[</span><span class="kp">q</span><span class="p">]]</span> <span class="o">=</span> available_selections<span class="p">[[</span><span class="kp">q</span><span class="p">]][</span> available_selections<span class="p">[[</span><span class="kp">q</span><span class="p">]]</span> <span class="o">!=</span> chosen_answer <span class="p">]</span>
                        <span class="p">}</span>
                        chosen_answers <span class="o">=</span> <span class="kt">c</span><span class="p">(</span>chosen_answers<span class="p">,</span> chosen_answer<span class="p">)</span>
                <span class="p">}</span>
        <span class="p">}</span>
        num_correct <span class="o">=</span> <span class="kt">c</span><span class="p">(</span>num_correct<span class="p">,</span> <span class="kp">sum</span><span class="p">(</span>correct_answers <span class="o">==</span> chosen_answers<span class="p">))</span>
<span class="p">}</span>
df <span class="o">=</span> <span class="kt">data.frame</span><span class="p">(</span>correct <span class="o">=</span> num_correct<span class="p">)</span>
g <span class="o">=</span> ggplot<span class="p">(</span>df<span class="p">)</span> <span class="o">+</span> aes<span class="p">(</span>x <span class="o">=</span> correct<span class="p">)</span>
g <span class="o">=</span> g <span class="o">+</span> geom_histogram<span class="p">(</span>binwidth <span class="o">=</span> <span class="m">0.5</span><span class="p">)</span>
g <span class="o">=</span> g <span class="o">+</span> xlab<span class="p">(</span><span class="kp">paste</span><span class="p">(</span><span class="s">&quot;Number of correct answers for&quot;</span><span class="p">,</span> num_questions<span class="p">,</span> <span class="s">&quot;questions and&quot;</span><span class="p">,</span> num_quiz_trials<span class="p">,</span> <span class="s">&quot;attempts.&quot;</span><span class="p">))</span>
g <span class="o">=</span> g <span class="o">+</span> ggtitle<span class="p">(</span><span class="kp">paste</span><span class="p">(</span><span class="s">&quot;Histogram of correct answers for&quot;</span><span class="p">,</span> num_sim_trials<span class="p">,</span> <span class="s">&quot;trials&quot;</span><span class="p">))</span>
<span class="kp">print</span><span class="p">(</span>g<span class="p">)</span></code></pre></div>

<p>I hope this blog post inspired you to look into the subtle everyday randomness. Until next time.. adios!</p>


  </article>

</div>

      </div>
    </div>

    <footer class="site-footer">

  <div class="wrapper">

    <h2 class="footer-heading">Random() Ramblings</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col  footer-col-1">
        <ul class="contact-list">
          <li>Random() Ramblings</li>
          <li><a href="mailto:mv.vijesh@gmail.com">mv.vijesh@gmail.com</a></li>
        </ul>
      </div>

      <div class="footer-col  footer-col-2">
        <ul class="social-media-list">
          
          <li>
            <a href="https://github.com/vijeshm">
              <span class="icon  icon--github">
                <svg viewBox="0 0 16 16">
                  <path fill="#828282" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/>
                </svg>
              </span>

              <span class="username">vijeshm</span>
            </a>
          </li>
          

          
          <li>
            <a href="https://twitter.com/edbidangi">
              <span class="icon  icon--twitter">
                <svg viewBox="0 0 16 16">
                  <path fill="#828282" d="M15.969,3.058c-0.586,0.26-1.217,0.436-1.878,0.515c0.675-0.405,1.194-1.045,1.438-1.809
                  c-0.632,0.375-1.332,0.647-2.076,0.793c-0.596-0.636-1.446-1.033-2.387-1.033c-1.806,0-3.27,1.464-3.27,3.27 c0,0.256,0.029,0.506,0.085,0.745C5.163,5.404,2.753,4.102,1.14,2.124C0.859,2.607,0.698,3.168,0.698,3.767 c0,1.134,0.577,2.135,1.455,2.722C1.616,6.472,1.112,6.325,0.671,6.08c0,0.014,0,0.027,0,0.041c0,1.584,1.127,2.906,2.623,3.206 C3.02,9.402,2.731,9.442,2.433,9.442c-0.211,0-0.416-0.021-0.615-0.059c0.416,1.299,1.624,2.245,3.055,2.271 c-1.119,0.877-2.529,1.4-4.061,1.4c-0.264,0-0.524-0.015-0.78-0.046c1.447,0.928,3.166,1.469,5.013,1.469 c6.015,0,9.304-4.983,9.304-9.304c0-0.142-0.003-0.283-0.009-0.423C14.976,4.29,15.531,3.714,15.969,3.058z"/>
                </svg>
              </span>

              <span class="username">edbidangi</span>
            </a>
          </li>
          
        </ul>
      </div>

      <div class="footer-col  footer-col-3">
        <p class="text">Just some random ramblings.. here and there, every now and then.
</p>
      </div>
    </div>

  </div>

</footer>


  </body>

</html>
